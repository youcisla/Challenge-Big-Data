{% extends 'base.html' %}

{% block content %}
<div class="row mb-5 text-center">
    <div class="col-12">
        <h1 class="display-4 fw-bold text-gold"><i class="bi bi-patch-question-fill me-2"></i>Portail des Mythes</h1>
        <p class="lead text-muted">Vérification des faits historiques. Survolez (ou cliquez) pour révéler la vérité.</p>
    </div>
</div>

<div class="row g-4 justify-content-center">
    {% for myth in myths %}
    <div class="col-md-4 col-lg-3">
        <div class="flip-card">
            <div class="flip-card-inner">
                <!-- Front -->
                <div class="flip-card-front card p-4 d-flex flex-column align-items-center justify-content-center text-center h-100 border-0 shadow-lg"
                    style="background: linear-gradient(145deg, #1e293b, #0f172a);">
                    <i class="bi {{ myth.icon }} display-1 text-primary opacity-50 mb-3"></i>
                    <h5 class="fw-bold text-white">{{ myth.question }}</h5>
                    <div class="mt-3 text-gold small text-uppercase ls-1">Révéler</div>
                </div>
                <!-- Back -->
                <div class="flip-card-back card p-4 d-flex flex-column align-items-center justify-content-center text-center h-100 border-0 shadow-lg"
                    style="background: #1e293b; border: 1px solid var(--accent-gold);">
                    <h2 class="fw-bold {{ myth.verdict_color }} mb-3">{{ myth.verdict }}</h2>
                    <p class="text-white small">{{ myth.insight }}</p>
                    <i class="bi bi-check-circle-fill text-success fs-2 mt-2"></i>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<style>
    /* Card Flip CSS */
    .flip-card {
        background-color: transparent;
        width: 100%;
        height: 300px;
        perspective: 1000px;
        cursor: pointer;
    }

    .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
    }

    .flip-card:hover .flip-card-inner {
        transform: rotateY(180deg);
    }

    .flip-card-front,
    .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        border-radius: 1rem;
    }

    .flip-card-back {
        transform: rotateY(180deg);
    }
</style>
{% endblock %}